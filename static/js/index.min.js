angular.module("freegeoip",[]).directive("btnSubmit",function(){return function(b,c,e){b.$watch(function(){return b.$eval(e.btnSubmit)},function(a){a?$(c).button("loading"):$(c).button("reset")})}});freegeoip.$inject=["$scope","$http"];
function freegeoip(b,c){b.geoip={};b.search=function(e){b.error=null;b.searching=!0;c.get("json/"+e).success(function(a){a.metrocode||(a.metrocode="-");a.areacode||(a.areacode="-");b.geoip=angular.copy(a);var d="",c=2;a.country_name&&"RD"!=a.country_code?a.region_name?a.city?(c=6,d=a.city+","+a.region_name+","+a.country_name):(c=4,d=a.region_name+","+a.country_name):d=a.country_name:d="Africa";$("#map").attr("src","//maps.google.com/maps?f=q&source=s_q&hl=en&geocode=&ie=UTF8&iwloc=A&output=embed&z="+
c+"&q="+d);b.searching=!1}).error(function(a,c){b.errorq=e;b.error=c;b.searching=!1;$("#map").attr("src","//maps.google.com/maps?f=q&source=s_q&hl=en&geocode=&ie=UTF8&iwloc=A&output=embed&zoom=2&q=africa")})};b.search("")}$(document).ready(function(){$("#map").height($("#map").width()/2);$("#cb").tooltip();$("#cb").click(function(b){b.preventDefault()})});
